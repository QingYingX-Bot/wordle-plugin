# 📖 Wordle 插件命令参考

本文档包含 Wordle 插件的所有可用命令和使用说明。

---

## 🎮 单词游戏

### 开始游戏

| 命令 | 说明 | 示例 |
|------|------|------|
| `#word` | 开始新游戏（随机字母数） | `#word` |
| `#word [数字]` | 开始指定字母数量的游戏 | `#word 7`（支持3-10字母） |

**支持的字母数量：** 3, 4, 5, 6, 7, 8, 9, 10

### 提交猜测

| 命令格式 | 说明 | 示例 |
|---------|------|------|
| `#单词` | 使用 # 前缀猜测单词 | `#apple` |
| `!单词` | 使用 ! 前缀猜测单词 | `!apple` |
| `！单词` | 使用 ！前缀猜测单词（中文感叹号） | `！apple` |

**注意：**
- 单词长度必须与当前游戏的字母数量匹配
- 不支持空格的纯英文单词
- 游戏进行中会自动监听符合格式的消息

### 游戏管理

| 命令 | 说明 | 示例 |
|------|------|------|
| `#word 答案` | 结束当前游戏并显示答案 | `#word 答案` |
| `#word ans` | 结束当前游戏（缩写） | `#word ans` |
| `#word 放弃` | 放弃当前游戏 | `#word 放弃` |

### 查看帮助

| 命令 | 说明 |
|------|------|
| `#word 帮助` | 查看详细帮助信息 |
| `#word help` | 查看帮助（英文） |

### 词典管理

| 命令 | 说明 | 示例 |
|------|------|------|
| `#word 词典` | 循环切换词典 | `#word 词典` |
| `#word 词库` | 循环切换词库（同词典） | `#word 词库` |
| `#word wordbank` | 循环切换词典（英文） | `#word wordbank` |
| `#word 词典 [名称]` | 切换到指定名称的词典 | `#word 词典 四级` |

**常用词典：**
- 四级（CET4）
- 六级（CET6）
- 专四（TEM4）
- 专八（TEM8）
- GRE
- TOEFL

### 排行榜

| 命令 | 说明 | 示例 |
|------|------|------|
| `#word 排行榜` | 查看群排行榜（默认胜场榜） | `#word 排行榜` |
| `#word 榜` | 查看群排行榜（简写） | `#word 榜` |
| `#word 排行榜 胜率` | 查看群胜率榜 | `#word 排行榜 胜率` |
| `#word 排行榜 参与` | 查看群参与榜 | `#word 排行榜 参与` |
| `#word 总排行榜` | 查看全局排行榜 | `#word 总排行榜` |
| `#word 总排行榜 胜率` | 查看全局胜率榜 | `#word 总排行榜 胜率` |
| `#word leaderboard` | 查看排行榜（英文） | `#word leaderboard` |
| `#word rank` | 查看排行榜（英文简写） | `#word rank` |

**排行榜类型：**
- 🏆 胜场榜：按获胜次数排序
- 👥 参与榜：按参与游戏次数排序
- 🎯 胜率榜：按胜率排序（至少3局）

### 查询释义

| 命令 | 说明 | 示例 |
|------|------|------|
| `#释义 [单词]` | 查询单词的释义 | `#释义 access` |

**注意：**
- 只能查询英文单词
- 单词必须在当前词库中

---

## 🔢 数学公式游戏

### 开始游戏

| 命令 | 说明 | 示例 |
|------|------|------|
| `#math` | 开始新游戏（默认长度12） | `#math` |
| `#Math` | 开始新游戏（首字母大写） | `#Math` |
| `#数学` | 开始新游戏（中文） | `#数学` |
| `#公式` | 开始新游戏（别名） | `#公式` |
| `#math [长度]` | 开始指定长度的游戏 | `#math 10`（支持5-12） |
| `#math 特殊 [长度]` | 开始特殊分类游戏 | `#math 特殊 14`（支持12、14、16，包含幂运算） |
| `#math 特殊` | 查看特殊分类列表 | `#math 特殊` |

**支持的长度：** 5, 6, 7, 8, 9, 10, 11, 12（普通公式）

**特殊长度（包含幂运算 **）：** 12, 14, 16
- 使用命令：`#math 特殊 12`、`#math 特殊 14`、`#math 特殊 16`
- 特殊分类包含复杂的幂运算公式，难度更高

### 提交猜测

| 命令格式 | 说明 | 示例 |
|---------|------|------|
| `#公式` | 使用 # 前缀猜测公式 | `#123+456=579` |
| `!公式` | 使用 ! 前缀猜测公式 | `!123+456=579` |
| `！公式` | 使用 ！前缀猜测公式（中文感叹号） | `！123+456=579` |

**注意：**
- 公式长度必须与当前游戏的长度匹配
- 公式必须包含等号（=）
- 支持的运算符：`+`（加）、`-`（减）、`*`（乘）、`/`（除）、`**`（幂）
- 公式必须是有效的数学等式

### 游戏管理

| 命令 | 说明 | 示例 |
|------|------|------|
| `#math 答案` | 结束当前游戏并显示答案 | `#math 答案` |
| `#math ans` | 结束当前游戏（缩写） | `#math ans` |
| `#math 放弃` | 放弃当前游戏 | `#math 放弃` |

### 查看帮助

| 命令 | 说明 |
|------|------|
| `#math 帮助` | 查看详细帮助信息 |
| `#math help` | 查看帮助（英文） |

### 分类管理

| 命令 | 说明 | 示例 |
|------|------|------|
| `#math 分类` | 查看所有公式分类 | `#math 分类` |
| `#math category` | 查看分类（英文） | `#math category` |

### 排行榜

| 命令 | 说明 | 示例 |
|------|------|------|
| `#math 排行榜` | 查看群排行榜（默认胜场榜） | `#math 排行榜` |
| `#math 榜` | 查看群排行榜（简写） | `#math 榜` |
| `#math 排行榜 胜率` | 查看群胜率榜 | `#math 排行榜 胜率` |
| `#math 排行榜 参与` | 查看群参与榜 | `#math 排行榜 参与` |
| `#math 总排行榜` | 查看全局排行榜 | `#math 总排行榜` |
| `#math 总排行榜 胜率` | 查看全局胜率榜 | `#math 总排行榜 胜率` |
| `#math leaderboard` | 查看排行榜（英文） | `#math leaderboard` |
| `#math rank` | 查看排行榜（英文简写） | `#math rank` |

**公式分类：**
- 📏 **按长度分类**：长度5、长度6、长度7、长度8、长度9、长度10、长度11、长度12
- 🔧 **按运算符分类**：加法、减法、乘法、除法
- 📊 **按难度分类**：简单、中等、困难
- ⭐ **特殊分类**（包含幂运算 **）：特殊长度12、特殊长度14、特殊长度16

---

## 🀄 成语游戏（汉兜）

### 开始游戏

| 命令 | 说明 | 示例 |
|------|------|------|
| `#idiom` | 开始新游戏（默认四字成语） | `#idiom` |
| `#成语` | 开始新游戏（中文） | `#成语` |
| `#汉兜` | 开始新游戏（别名） | `#汉兜` |

### 提交猜测

| 命令格式 | 说明 | 示例 |
|---------|------|------|
| `#成语` | 使用 # 前缀猜测成语 | `#高山流水` |
| `!成语` | 使用 ! 前缀猜测成语 | `!高山流水` |
| `！成语` | 使用 ！前缀猜测成语（中文感叹号） | `！高山流水` |

**注意：**
- 成语必须是有效的四字成语
- 成语长度固定为4个字
- 游戏进行中会自动监听符合格式的消息

### 游戏管理

| 命令 | 说明 | 示例 |
|------|------|------|
| `#idiom 答案` | 结束当前游戏并显示答案 | `#idiom 答案` |
| `#idiom ans` | 结束当前游戏（缩写） | `#idiom ans` |
| `#idiom 放弃` | 放弃当前游戏 | `#idiom 放弃` |

### 查看帮助

| 命令 | 说明 |
|------|------|
| `#idiom 帮助` | 查看详细帮助信息 |
| `#idiom help` | 查看帮助（英文） |

### 排行榜

| 命令 | 说明 | 示例 |
|------|------|------|
| `#idiom 排行榜` | 查看群排行榜（默认胜场榜） | `#idiom 排行榜` |
| `#idiom 榜` | 查看群排行榜（简写） | `#idiom 榜` |
| `#idiom 排行榜 胜率` | 查看群胜率榜 | `#idiom 排行榜 胜率` |
| `#idiom 排行榜 参与` | 查看群参与榜 | `#idiom 排行榜 参与` |
| `#idiom 总排行榜` | 查看全局排行榜 | `#idiom 总排行榜` |
| `#idiom 总排行榜 胜率` | 查看全局胜率榜 | `#idiom 总排行榜 胜率` |

---

## 💡 使用技巧

### 游戏规则

#### 单词游戏
1. 根据提示颜色判断：
   - 🟩 **绿色**：字母正确且位置正确
   - 🟨 **黄色**：字母存在但位置错误
   - ⬜ **灰色**：字母不存在

2. 通过颜色提示逐步缩小可能单词范围

3. 尝试次数有限，根据字母数量调整：
   - 3字母：5次
   - 4字母：6次
   - 5字母：8次
   - 6字母：8次
   - 7字母：10次
   - 8字母：12次
   - 9字母：13次
   - 10字母：15次

#### 公式游戏
1. 根据提示颜色判断：
   - 🟩 **绿色**：字符正确且位置正确
   - 🟨 **黄色**：字符存在但位置错误
   - ⬜ **灰色**：字符不存在

2. 注意运算符顺序和优先级：
   - `**`（幂运算）优先级最高
   - `*`（乘）和 `/`（除）优先级次之
   - `+`（加）和 `-`（减）优先级最低

3. 尝试次数根据长度调整：
   - 长度8-9：6次
   - 长度10-11：7次
   - 长度12-13：8次
   - 长度14-15：9次
   - 长度16：10次

#### 成语游戏
1. 根据提示颜色判断：
   - 🟩 **青色**：字符正确且位置正确
   - 🟨 **橙色**：字符存在但位置错误
   - ⬜ **灰色**：字符不存在

2. 拼音反馈说明：
   - 每个格子显示拼音（上方）和汉字（下方）
   - 拼音级别的反馈：声母、韵母、声调独立判断
   - 颜色含义：
     - 青色 = 正确位置
     - 橙色 = 存在但位置错误
     - 灰色 = 不存在

3. 尝试次数：固定10次（四字成语）

### 冷却时间

- **群冷却**：1秒（防止刷屏）
- **个人冷却**：4秒（防止过快猜测）

### 支持场景

- ✅ **群聊**：多人游戏，共享排行榜
- ✅ **私聊**：单人游戏，独立记录

### 游戏界面

所有游戏界面都以图片形式展示：
- 游戏板：显示猜测历史和颜色提示
- 键盘提示（仅单词游戏）：显示已用字母的状态
- 版本信息：显示插件和云崽版本

---

## 📱 完整使用示例

### 单词游戏完整流程

```
用户: #word
Bot: [发送游戏界面图片，显示空白游戏板]

用户: #apple
Bot: [发送游戏界面图片，显示猜测结果和颜色提示]

用户: #bread
Bot: [发送游戏界面图片，更新猜测结果]

用户: #word 答案
Bot: 答案是 ACCESS
     游戏结束！感谢参与！
```

### 公式游戏完整流程

```
用户: #math 12
Bot: [发送游戏界面图片，显示空白游戏板]

用户: #123+456=579
Bot: [发送游戏界面图片，显示猜测结果和颜色提示]

用户: #456+123=579
Bot: [发送游戏界面图片，更新猜测结果]

用户: #math 答案
Bot: 答案是 123+456=579
     游戏结束！感谢参与！
```

### 查看排行榜示例

```
用户: #word 排行榜
Bot: 📊 单词 群排行榜

     ⭐ 🏆 胜场榜
     🥇 张三 - 15胜 / 20局 (胜率75.00%)
     🥈 李四 - 12胜 / 18局 (胜率66.67%)
     🥉 王五 - 10胜 / 15局 (胜率66.67%)
     ...

用户: #math 排行榜
Bot: 📊 数学 群排行榜

     ⭐ 🏆 胜场榜
     🥇 张三 - 15胜 / 20局 (胜率75.00%)
     🥈 李四 - 12胜 / 18局 (胜率66.67%)
     🥉 王五 - 10胜 / 15局 (胜率66.67%)
     ...

用户: #idiom 排行榜
Bot: 📊 成语 群排行榜

     ⭐ 🏆 胜场榜
     🥇 张三 - 15胜 / 20局 (胜率75.00%)
     🥈 李四 - 12胜 / 18局 (胜率66.67%)
     🥉 王五 - 10胜 / 15局 (胜率66.67%)
     ...
```

### 成语游戏完整流程

```
用户: #idiom
Bot: [发送游戏界面图片，显示空白游戏板]
     成语猜谜游戏开始啦！
     成语长度：4 字
     最多尝试：10 次
     游戏规则说明...

用户: #高山流水
Bot: [发送游戏界面图片，显示猜测结果和颜色提示]

用户: #对牛弹琴
Bot: [发送游戏界面图片，更新猜测结果]

用户: #idiom 答案
Bot: 答案是 两豆塞耳
     游戏结束！感谢参与！
```

---

## ⚠️ 常见问题

### Q: 为什么发送猜测没有反应？
A: 请检查：
1. 是否已开始游戏（发送 `#word`、`#math` 或 `#idiom`）
2. 猜测格式是否正确（需要 `#` 或 `!` 前缀）
3. 长度是否匹配当前游戏
4. 成语游戏需要输入有效的四字成语

### Q: 公式游戏支持哪些运算符？
A: 支持以下运算符：
- `+` 加法
- `-` 减法
- `*` 乘法
- `/` 除法
- `**` 幂运算

### Q: 如何在私聊中玩游戏？
A: 私聊和群聊使用方法完全相同，直接发送命令即可。

### Q: 排行榜数据会保存多久？
A: 排行榜数据永久保存，但游戏数据会在24小时后自动过期。

### Q: 可以同时进行多个游戏吗？
A: 不可以，每个群聊/私聊只能同时进行一个游戏。需要先结束当前游戏。

### Q: 成语游戏支持哪些功能？
A: 成语游戏支持：
- 拼音显示：每个格子显示拼音（上方）和汉字（下方）
- 拼音级别反馈：声母、韵母、声调独立判断
- 颜色反馈：青色=正确，橙色=存在但位置错误，灰色=不存在
- 固定10次猜测机会

### Q: 成语游戏如何判断拼音是否正确？
A: 成语游戏会对声母、韵母、声调进行独立判断：
- 如果声母/韵母/声调在正确位置，显示青色
- 如果声母/韵母/声调存在但位置错误，显示橙色
- 如果声母/韵母/声调不存在，显示灰色

---

## 📝 更新日志

- **fork-1.0.1**: 添加成语游戏（汉兜）功能，支持拼音显示和拼音级别反馈
- **fork-1.0.0**: 添加数学公式游戏支持

---

**如有其他问题，请提交 Issue 或联系开发者。**

